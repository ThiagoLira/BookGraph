<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <style>
    html {
      scroll-behavior: smooth;
    }


    body {
      font: 14px/1.4 Georgia, Serif;
    }


    .mylabel {
      width: 60px;
      height: 28px;
      padding: 2px;
      font: 12px sans-serif;
      background: lightsteelblue;
      border: 0px;
      border-radius: 8px;
    }


    /* 
	Generic Styling, for Desktops/Laptops 
	*/
    table {
      width: 100%;
      border-collapse: collapse;
    }

    /* Zebra striping */
    tr:nth-of-type(odd) {
      background: #eee;
    }

    th {
      background: #333;
      color: white;
      font-weight: bold;
      cursor: s-resize;
      background-repeat: no-repeat;
      background-position: 3% center;
    }

    td,
    th {
      padding: 6px;
      border: 1px solid #ccc;
      text-align: left;
    }

    th.des:after {
      content: "\21E9";
    }

    th.aes:after {
      content: "\21E7";
    }

    /* 
	Max width before this PARTICULAR table gets nasty
	This query will take effect for any screen smaller than 760px
	and also iPads specifically.
	*/
    @media only screen and (max-width: 760px),
    (min-device-width: 768px) and (max-device-width: 1024px) {

      /* Force table to not be like tables anymore */
      table,
      thead,
      tbody,
      th,
      td,
      tr {
        display: block;
      }

      /* Hide table headers (but not display: none;, for accessibility) */
      thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
      }

      tr {
        border: 1px solid #ccc;
      }

      td {
        /* Behave  like a "row" */
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 50%;
      }

      td:before {
        /* Now like a table header */
        position: absolute;
        /* Top/left values mimic padding */
        top: 6px;
        left: 6px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
      }

      /*
		Label the data
		*/
      td:before {
        content: attr(data-th) ": ";
        font-weight: bold;
        width: 6.5em;
        display: inline-block;
      }
    }
  </style>



  <style type="text/css">
    .link {
      stroke: #999;
      stroke-opacity: .6;
      stroke-width: 1px;
    }

    .controls {
      flex-basis: 200px;
      padding: 0 5px;
    }

    .controls .group_by {
      background-color: #eee;
      border-radius: 3px;
      padding: 5px;
      margin: 5px 0;
    }

    .controls .group_by label {
      display: inline-block;
    }
  </style>

  <title>A Citation Graph calculated with all my books</title>

</head>

<body>

<div class="jumbotron">
  <h1 class="text-center">The nodes represent books, two nodes are connected if one book cites the other. </h1>
  <p class="text-center">The clusters are sorted from left to right by publication date.</p>
  
  <p class="text-center">The bottom row of clusters represents books from my calibre library, from which citations are detected and drawn.</p>
  <p class="text-center">The top row represents books found on a public Goodreads database, these can only be targets of citations since I don't have their text.</p>
  
<h2 class='text-center'>Click on any node to focus on it. Hover mouse to see book titles and connections.</h2>  
<p class='text-center'>After clicking on some node, the tables on the left and right will update with citations from and to the selected book!</p>  
<p class='text-center'>For some filtering options and metatada check below the graph!</p>  
</div>
  

  <div class='container-fluid' style='height: 1500px'>
    <div class='row w-100 h-100'>
      <div class='col-sm-2' id='current-selection-outgoing'> </div>
      <!-- pl and pr removes the margin so we can calculate the borders limits on the canvas correctly for the animations -->
      <svg class='col-sm-8 h-100 pl-0 pr-0' id='canvas'></svg>
      <div class='col-sm-2' id='current-selection-ingoing'> </div>
    </div>

    <div class='row'>

      <div class="col-xl-12 w-50" id='selector'>
        <h1>Use this menu to filter by author</h1>
      </div>
      </div>

      <div class='row'>
        <div id="page-wrap">

          <h1>Book Metadata List</h1>
          <p>Click the table header to sort data according to that column</p>
          <p>Click on a row to focus that book on the Graph</p>
        </div>

      </div>

    </div>



  <script src="https://d3js.org/d3.v4.min.js" type="text/javascript"></script>
  <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
  <script src="labels.js"></script>
  <script src='chart.js'></script>

</body>

</html>